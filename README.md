# Tender Management System

API сервис для управления тендерами и предложениями с поддержкой версионирования и отката изменений.

## Основные возможности

### Управление тендерами
- Создание/редактирование тендеров
- Просмотр списка с фильтрацией по типу услуг
- Изменение статусов (Created/Published/Closed)
- Версионирование и откат изменений
- Просмотр тендеров конкретного пользователя

### Управление предложениями
- Создание/редактирование предложений
- Отправка решений (Approved/Rejected)
- Оставление отзывов
- Просмотр истории предложений
- Версионирование и откат изменений

## Технологии
- Go (версия 1.21+)
- PostgreSQL 15+
- Redis 7+ (для кэширования)
- Gin Web Framework
- Swagger для документации API

## Установка и запуск

1. Клонировать репозиторий:
```
git clone https://github.com/noctusha/tender.git
cd tender
```

2. Настроить переменные окружения (создать .env файл):
   ```
   DB_HOST=localhost
   DB_PORT=5432
   DB_USER=postgres
   DB_PASSWORD=postgres
   DB_NAME=tender
   SERVER_PORT=8080
   ```

3.   Запустить сервис:
```
go run main.go
```

   Сервис будет доступен по адресу: http://localhost:8080/api

## Примеры запросов
### Создание тендера
```
curl -X POST "http://localhost:8080/api/tenders/new" \
-H "Content-Type: application/json" \
-d '{
"name": "Постройка моста",
"description": "Строительство пешеходного моста через реку",
"serviceType": "Construction",
"organizationId": "550e8400-e29b-41d4-a716-446655440000",
"creatorUsername": "user123"
}'
```

### Получение списка тендеров
```
curl "http://localhost:8080/api/tenders?service_type=Construction&limit=10&offset=0"
```

### Откат версии тендера
```
curl -X PUT "http://localhost:8080/api/tenders/550e8400-e29b-41d4-a716-446655440000/rollback/2?username=user123"
```

### Создание предложения
```
curl -X POST "http://localhost:8080/api/bids/new" \
-H "Content-Type: application/json" \
-d '{
    "name": "Предложение от СтройГрупп",
    "description": "Полный цикл строительных работ",
    "tenderId": "550e8400-e29b-41d4-a716-446655440000",
    "authorType": "Organization",
    "authorId": "61a485f0-e29b-41d4-a716-446655440000"
}'
```

## Особенности реализации

1. [x] **Версионирование**:

- Каждое изменение создает новую версию
- Поддержка отката к любой предыдущей версии
- История изменений сохраняется в отдельной таблице


2.  [x] **Безопасность**:

- Валидация всех входящих параметров
- Проверка прав доступа для операций изменения
- Логирование всех критических операций


3.  [x] **Производительность**:

- Кэширование часто запрашиваемых данных
- Пагинация для больших списков
- Оптимизированные SQL-запросы

